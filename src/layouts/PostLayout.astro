---
import LayoutBase from "./LayoutBase.astro";
import Prose from "../components/Prose.astro"
import type { AuthorProfile, PostData, PostImage } from "../content/data"
import PostSideBarLeft from "../components/PostSideBarLeft.astro";
import PostSideBarRight from "../components/PostSideBarRight.astro";
import TagsViewer from "../components/TagsViewer.astro";

interface Props {
    post: PostData
    author: AuthorProfile
}

const { post, author } = Astro.props
const { title, date, tags, image } = post
const formatedDate = date.toLocaleDateString()
---

<LayoutBase title={title}>
        <div class="flex flex-row gap-10 mx-16">
            <PostSideBarLeft/>
            <main class="flex flex-col gap-5">
                <header class="flex flex-col">
                    <img src={image.src} alt={image.alt} class="rounded-xl mb-5 
                        h-96 w-screen object-cover"/>
                    <div class="flex flex-col">
                        <h1>{title}</h1>
                        <h3>by {author.name} ‚óè {formatedDate}</h3>
                    </div>
                    <TagsViewer tags={tags}/>
                </header>
                <article>
                    <Prose>
                        <slot/>
                    </Prose>
                </article>
            </main>
            <PostSideBarRight/>
        </div>
</LayoutPage>